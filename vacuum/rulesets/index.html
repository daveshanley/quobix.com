<!doctype html><html lang=en><head><script type=application/ld+json>{"@context":"https://schema.org","@type":"NewsArticle","headline":"vacuum: Understanding RuleSets","image":["https:\/\/quobix.com\/"],"datePublished":"2022-06-19 07:39:53 -0400 -0400","author":{"@type":"Person","name":"Dave Shanley","url":"https://quobix.com/author"}}</script><meta charset=utf-8><link rel=apple-touch-icon sizes=180x180 href=https://quobix.com//apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://quobix.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://quobix.com/favicon-16x16.png><meta name=description content="quobix::vaccum, The worlds fastest OpenAPI linter. "><meta charset=utf-8><meta name=keywords content="OpenAPI,swagger,spectral,linting,linter,vacuum,dave shanley,shanley,code,golang,java,javascript,typescript,quobix,engineer"><link crossorigin=use-credentials rel=manifest href=https://quobix.com/site.webmanifest><meta name=author content="Dave Shanley"><meta name=viewport content="width=device-width,initial-scale=1"><title>vacuum OpenAPI Linter: Understanding RuleSets</title><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-PC979K2")</script><link rel=preload href=https://quobix.com/assets/bundle.js as=script><script src=https://quobix.com/assets/bundle.js></script><style>:root{--global-font-size:17px;--toc-font-size:0.7rem;--breadcrumb-font-size:0.75rem;--childnav-font-size:0.75rem;--nav-font-size:0.95rem;--toc-font-header-size:0.85rem;--rule-item-header-fontsize:1.2rem;--rule-item-header-fontsize-mobile:1rem;--rule-item-details-fontsize:0.8rem;--rule-format-fontsize:0.8rem;--rule-type-fontsize:0.7rem;--rule-severity-fontsize:0.8rem;--rule-recommended-fontsize:0.7rem;--rule-function-fontsize:0.8rem;--rule-recommended-banner-fontsize:1rem;--rule-panel-label:0.7rem;--rule-id-fontsize:2rem;--rule-id-fontsize-mobile:1.3rem;--global-line-height:1.4em;--global-space:10px;--vacuum-navigation-width-v:199px;--vacuum-navigation-width:200px;--font-stack:Menlo, Monaco, Roboto Mono, Lucida Console, Liberation Mono,
            DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace,
            serif;--mono-font-stack:Menlo, Monaco, Roboto Mono, Lucida Console, Liberation Mono,
            DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace,
            serif;--background-color:#0d1117;--background-color-alpha:rgba(13, 17, 23, 0.80);--background-color-alpha-mobile:rgba(13, 17, 23, 0.99);--rule-item-background:rgba(26, 32, 44, 0.51);--rule-recommended-background:rgb(33, 41, 55);--rule-stats-background:#0a0a0a;--rule-item-border:rgba(35, 43, 58, 0.9);--navigation-hover:#b685ff33;--navigation-child-selected:rgba(182, 133, 255, 0.36);--navigation-child-hover:rgba(179, 131, 250, 0.09);--navigation-child-container:linear-gradient(180deg, rgba(0,0,0,1) 0%, rgba(182,133,255,0.2) 50%);--page-width:65em;--font-color:#e8e9ed;--invert-font-color:#222225;--secondary-color:#b685ff;--secondary-color-lowalpha:rgba(182, 133, 255, 0.73);--secondary-color-very-lowalpha:rgba(182, 133, 255, 0.23);--secondary-color-shadow:rgb(59, 41, 87);--secondary-color-shadow-mid:rgb(78, 54, 114);--tertiary-color:#a3abba;--terminal-border:rgba(76, 81, 91, 0.5);--terminal-header-background:linear-gradient(90deg, rgba(76, 81, 91, 0.5) 0%, rgba(76, 81, 91, 0.1) 80%);--primary-color:rgba(98, 196, 255, 1.0);--primary-color-lowalpha:rgba(98, 196, 255, 0.6);--error-color:#ff3c74;--error-font-color:#ff246b;--error-color-lowalpha:rgba(255, 60, 116, 0.4);--progress-bar-background:#3f3f44;--progress-bar-fill:#62c4ff;--code-bg-color:none;--input-style:solid;--display-h1-decoration:none;--bold-text:#b685ff;--terminal-green:#00FF00FF;--terminal-yellow:#fddb00;--hrcolor:#3d3d3d;--code-border:#525252;--string-literal:#fd66e5}</style><link rel=stylesheet href=https://quobix.com/assets/syntax.css><link rel=stylesheet href=https://quobix.com/assets/app.css><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="vacuum OpenAPI Linter: Understanding RuleSets"><meta property="og:description" content="RuleSets are how to configure vacuum to know which rules to run for each specification, and how it should evaluate those rules.
A RuleSet is a style guide with each rule being an individual requirement as a part of the overall guide.
What does a RuleSet look like? vacuum has based RuleSet configuration on the Spectral Ruleset model. This means Spectral RuleSets are 100% compatible with vacuum1
vacuum has added an id value to the rule (which Spectral does not), this to allow backwards compatibility, and the freedom to rename and add new names to new vacuum only content."><meta property="og:publish_date" content="2022-06-19 07:39:53 -0400 -0400"><meta property="og:url" content="https://quobix.com/vacuum/rulesets/"><meta property="og:site_name" content="quobix"><meta property="og:image" content="https://quobix.com/images/vacuum/logo-blackbg.png"><meta property="og:image:width" content="1400"><meta property="og:image:height" content="680"><meta property="og:image:secure_url" content="https://quobix.com/images/vacuum/logo-blackbg.png"><meta property="og:image:type" content="image/png"><meta property="og:image:alt" content="https://quobix.com/images/vacuum/logo-blackbg.png"><meta property="article:author" content="https://quobix.com"><meta property="article:publisher" content="https://quobix.com"><meta property="article:section" content="Software"><meta property="article:published_time" content="2022-06-19 07:39:53 -0400 -0400"><meta property="article:modified_time" content="2022-06-19 07:39:53 -0400 -0400"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@daveshanley"><meta name=twitter:creator content="@daveshanley"><meta name=twitter:label1 content="Written by"><meta name=twitter:data1 content="Dave Shanley"><link rel=stylesheet href=https://quobix.com/assets/vacuum.css></head><body class=terminal><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PC979K2" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div class=quobix-header><section class=terminal-nav id=main-navigation><header class=terminal-logo><div class="logo terminal-prompt"><a href=https://quobix.com/>quobix</a><span class=vacuum-sep>::</span><span class=vacuum-title>vacuum</span></div></header><nav class=terminal-menu id=header-menu><ul itemscope itemtype=http://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a href=https://quobix.com/articles/ itemprop=item class=menu-item><span itemprop=name>Articles</span><meta itemprop=position content="1"></a></li><li itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a href=https://quobix.com/author/ itemprop=item class=menu-item><span itemprop=name>Author</span><meta itemprop=position content="2"></a></li><li itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a href=https://quobix.com/vacuum/ itemprop=item class=menu-item><span itemprop=name>vacuum</span><meta itemprop=position content="3"></a></li></ul></nav></section><hr id=top-nav-divider></div><div class=container><div class=main-container><main class=content-container><nav class=vacuum-navigation><div class=fixed-position><a href=https://quobix.com/vacuum/start class=quick-start-navigation>Quick Start Guide&nbsp;</a><hr class=quick-start-divider><vacuum-desktop-navigation><vacuum-nav-item url=https://quobix.com/vacuum/installing/ name=Installing></vacuum-nav-item></vacuum-nav-item>
<vacuum-nav-item url=https://quobix.com/vacuum/about/ name="About vacuum"></vacuum-nav-item>
<vacuum-nav-item url=https://quobix.com/vacuum/why/ name=Why?></vacuum-nav-item>
<vacuum-nav-item url=https://quobix.com/vacuum/concepts/ name=Concepts></vacuum-nav-item>
<vacuum-nav-item url=https://quobix.com/vacuum/custom-functions/ name="Custom Functions"></vacuum-nav-item>
<vacuum-nav-item url name="CLI Commands"><ul class=navigation-children><li class=child-nav><a href=https://quobix.com/vacuum/commands/lint/>Lint</a></li><li class=child-nav><a href=https://quobix.com/vacuum/commands/report/>vacuum Report</a></li><li class=child-nav><a href=https://quobix.com/vacuum/commands/dashboard/>Dashboard</a></li><li class=child-nav><a href=https://quobix.com/vacuum/commands/html-report/>HTML Report</a></li><li class=child-nav><a href=https://quobix.com/vacuum/commands/spectral-report/>Spectral Report</a></li></ul></vacuum-nav-item><vacuum-nav-item url name="Developer API"><ul class=navigation-children><li class=child-nav><a href=https://quobix.com/vacuum/api/getting-started/>API Quick Start</a></li><li class=child-nav><a href=https://quobix.com/vacuum/api/spec-index/>Spec Index</a></li><li class=child-nav><a href=https://quobix.com/vacuum/api/rule-resultset/>RuleResultSet</a></li><li class=child-nav><a href=https://quobix.com/vacuum/api/loading-ruleset/>Loading RuleSet</a></li></ul></vacuum-nav-item><vacuum-nav-item url name=Functions><ul class=navigation-children><li class=child-nav><a href=https://quobix.com/vacuum/functions/core/>Core Functions</a></li><li class=child-nav><a href=https://quobix.com/vacuum/functions/openapi/>OpenAPI Functions</a></li></ul></vacuum-nav-item><vacuum-nav-item url name=Rules><ul class=navigation-children><li class=child-nav><a href=https://quobix.com/vacuum/rules/examples/>Examples</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/operations/>Operations/Paths</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/schemas/>Schemas</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/information/>Spec Information</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/validation/>Validation</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/descriptions/>Descriptions</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/tags/>Tags</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/security/>Security</a></li></ul></vacuum-nav-item><vacuum-nav-item url name=RuleSets><ul class=navigation-children><li class=child-nav><a href=https://quobix.com/vacuum/rulesets/understanding/>Understanding RuleSets</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rulesets/all/>All Rules</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rulesets/no-rules/>No Rules/Off</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rulesets/recommended/>Recommended Rules</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rulesets/custom-rulesets/>Custom RuleSets</a></li></ul></vacuum-nav-item></vacuum-desktop-navigation><hr class=nav-divider><a class=github-link href=https://github.com/daveshanley/vacuum>GitHub</a></div></nav><mobile-nav><ul class=mobile-nav><li class=mobile-nav><a href=https://quobix.com/vacuum/installing/>Installing</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/start/>Quick Start</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/about/>About vacuum</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/why/>Why?</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/concepts/>Concepts</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/custom-functions/>Custom Functions</a></li><li class=mobile-nav>CLI Commands<ul><li class=mobile-nav><a href=https://quobix.com/vacuum/commands/lint/>Lint</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/commands/report/>vacuum Report</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/commands/dashboard/>Dashboard</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/commands/html-report/>HTML Report</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/commands/spectral-report/>Spectral Report</a></li></ul></li><li class=mobile-nav>Developer API<ul><li class=mobile-nav><a href=https://quobix.com/vacuum/api/getting-started/>API Quick Start</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/api/spec-index/>Spec Index</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/api/rule-resultset/>RuleResultSet</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/api/loading-ruleset/>Loading RuleSet</a></li></ul></li><li class=mobile-nav>Functions<ul><li class=mobile-nav><a href=https://quobix.com/vacuum/functions/core/>Core Functions</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/functions/openapi/>OpenAPI Functions</a></li></ul></li><li class=mobile-nav>Rules<ul><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/examples/>Examples</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/operations/>Operations/Paths</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/schemas/>Schemas</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/information/>Spec Information</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/validation/>Validation</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/descriptions/>Descriptions</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/tags/>Tags</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/security/>Security</a></li></ul></li><li class=mobile-nav>RuleSets<ul><li class=mobile-nav><a href=https://quobix.com/vacuum/rulesets/understanding/>Understanding RuleSets</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rulesets/all/>All Rules</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rulesets/no-rules/>No Rules/Off</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rulesets/recommended/>Recommended Rules</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rulesets/custom-rulesets/>Custom RuleSets</a></li></ul></li></ul></mobile-nav><section class=vacuum-content><div class=breadcrumbs><ul itemscope itemtype=http://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a itemprop=item typeof="WebPage" href=https://quobix.com/vacuum/><span itemprop=name>vacuum</span><meta itemprop=position content="2"></a></li><li class=crumb-active itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a itemprop=item typeof="WebPage" href=https://quobix.com/vacuum/rulesets/><span itemprop=name>Understanding RuleSets</span><meta itemprop=position content="1"></a></li></ul></div><article class=framed-content><h1 class=article-title>Understanding RuleSets</h1><div class=article-strapline><em>A style guide for your API.</em></div><section class=article-body><hr><p>RuleSets are how to configure vacuum to know which rules to run for each specification, and how it should evaluate those rules.</p><p>A RuleSet is a <strong>style guide</strong> with each rule being an individual requirement as a part of the overall guide.</p><h2 id=what-does-a-ruleset-look-like>What does a RuleSet look like?</h2><p>vacuum has based RuleSet configuration on the <a href=https://meta.stoplight.io/docs/spectral/01baf06bdd05a-rulesets>Spectral Ruleset</a>
model. This means Spectral RuleSets are <strong>100% compatible</strong> with vacuum<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><div class="terminal-alert terminal-alert-primary">vacuum has added an <code>id</code> value to the rule (which Spectral does not), this to allow backwards compatibility, and the freedom
to rename and add new names to new vacuum only content.</div><p>RuleSets contain a list of rules that should be run, and are configured using YAML or JSON, and look something like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w> </span><span class=l>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=nt>my-vacuum-rule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Tags must have a description.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=nt>given</span><span class=p>:</span><span class=w> </span><span class=l>$.tags[*]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class=l>error</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=nt>then</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>       </span><span class=nt>field</span><span class=p>:</span><span class=w> </span><span class=l>description</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>       </span><span class=nt>function</span><span class=p>:</span><span class=w> </span><span class=l>truthy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=l>...</span><span class=w>
</span></span></span></code></pre></div><p>vacuum has <a href=https://quobix.com/vacuum/functions/core/>built-in core functions</a> such as <a href=https://quobix.com/vacuum/functions/core/casing/>casing</a>,
<a href=https://quobix.com/vacuum/functions/core/truthy/>truthy</a> and <a href=https://quobix.com/vacuum/functions/core/pattern/>pattern</a> which
can be used to power rules.</p><p>Rules target a section of the OpenAPI document using <a href=http://jsonpath.com/>JSON Path</a> via the <code>given</code> keyword.</p><p>The example above is a single rule that looks at all the <code>tags</code> object which is on the root level. The <a href=https://quobix.com/vacuum/functions/core/truthy/>truthy</a>
function will check if the <code>description</code> field has been set or not.</p><h2 id=how-to-apply-a-ruleset>How to apply a RuleSet?</h2><p>Use the <code>--ruleset</code> flag with any vacuum command, supply a path to your ruleset file. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-zsh data-lang=zsh><span class=line><span class=cl>vacuum html-report --ruleset &lt;my-ruleset.yaml&gt;
</span></span></code></pre></div><h2 id=recommended-only-or-all-rules>Recommended only? or all rules?</h2><p>vacuum comes with two RuleSets out of the box. &lsquo;<strong>Recommanded</strong>&rsquo; and &lsquo;<strong>All</strong>&rsquo;</p><p>Recommended is the <strong>default</strong> mode for all linting commands, recommended rules are used when the <code>--ruleset</code> flag is not
used. <a href=https://quobix.com/vacuum/rulesets/recommended/>Learn more about recommended rules</a>.</p><p>&lsquo;<strong>All Rules</strong>&rsquo; is just that, <a href=https://quobix.com/vacuum/rules/>all OpenAPI Rules</a>. Everything is applied.
<a href=https://quobix.com/vacuum/rulesets/all/>Learn more about all rules</a>.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Except custom JS functions don&rsquo;t work, they&rsquo;re incompatible (for now) as vacuum is written in golang not JS. vacuum will support custom functions soon.
I have a few ideas about running JS code using something like <a href=https://github.com/robertkrimen/otto>otto</a>.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></section></article></section><div class=right-nav><asisde class=table-of-contents><p>What's on this page</p><nav id=TableOfContents><ul><li><a href=#what-does-a-ruleset-look-like>What does a RuleSet look like?</a></li><li><a href=#how-to-apply-a-ruleset>How to apply a RuleSet?</a></li><li><a href=#recommended-only-or-all-rules>Recommended only? or all rules?</a></li></ul></nav></asisde></div></main></div><footer class=footer><a href=https://quobix.com/author>Dave Shanley</a> 2007-2022
<span class=generated-timestamp>[generated 07/05/22 19:26 UTC]</span></footer></div></body></html>